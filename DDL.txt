create table courier
	(cour_id 		varchar(5),
	 cour_name		varchar(15),
	 email			varchar(15),
	 phone_no		numeric(10,0),
	 price			numeric(5,0),
	 delivery_day		numeric(2,0),
	 primary key (cour_id)
	);

create table genre
	(g_id 			varchar(5),
	 genre_name		varchar(15),
	 primary key (g_id)
	);
	
create table orders
	(o_id 		varchar(5),
	 day		numeric(5,0),
	 month		numeric(5,0),
	 year		numeric(5,0),
	 status			varchar(15),
	 cour_id  		varchar(5),
	 bask_id		varchar(5),
	 primary key (o_id),
	 foreign key (cour_id) references courier,
	 foreign key (bask_id) references basket
	);

create table billing
	(b_id 		varchar(5),
	 card_no	numeric(20,0),
	 cvv		numeric(5,0),
	 primary key (b_id)
	);
	
create table address
	(a_id 		varchar(5),
	 street		varchar(20),
	 country	varchar(10),
	 city		varchar(10),
	 province	varchar(10),
	 zip_code	varchar(20),
	 primary key (a_id)
	);
	
create table basket
	(u_id		varchar(5),
	 b_id		varchar(5),
	 primary key (u_id, b_id),
	 foreign key (u_id) references users on delete cascade,
	 foreign key (b_id) references book
		
	);

create table users
	(u_id 		varchar(5),
	 f_name		varchar(15),
	 l_name		varchar(15),
	 email		varchar(15),
	 phone_no	numeric(10,0),
	 password	varchar(20),
	 a_id 		varchar(5),
	 b_id 		varchar(5),
	 primary key (u_id),
	 foreign key (a_id) references address on delete cascade,
	 foreign key (b_id) references billing on delete cascade
	);
	
create table seller
	(s_id 		varchar(5),
	 f_name		varchar(15),
	 l_name		varchar(15),
	 email		varchar(30),
	 phone_no	numeric(10,0),
	 password	varchar(20),
	 primary key (s_id)
	);
	
create table book
	(b_id		varchar(5),
	 book_name	varchar(70),
	 author		varchar(30),
	 publisher	varchar(30),
	 isbn		numeric(20,0),
	 pages		numeric(5,0),
	 year		numeric(5,0),
	 price		numeric(5,0),
	 stock		numeric(3,0),
	 s_id		varchar(5),
	 g_id		varchar(5),
	 primary key (b_id),
	 foreign key (s_id) references seller,
	 foreign key (g_id) references genre
	)


//testings

drop table orders;
drop table courier;
drop table billing;
drop table basket;
drop table users;
drop table seller;
drop table book;
drop table genre;
drop table address;


create table users
	(u_id 		varchar(8),
	 f_name		varchar(15),
	 l_name		varchar(15),
	 email		varchar(15),
	 phone_no	numeric(10,0),
	 password	varchar(20),
	 primary key (u_id)
	);
	
create table billing
	(bill_id	varchar(8),
	 u_id		varchar(8),
	 card_no	numeric(20,0),
	 cvv		numeric(5,0),
	 primary key (bill_id),
	 foreign key (u_id) references users on delete cascade
	);

	
create table book
	(b_id		varchar(8),
	 book_name	varchar(70),
	 author		varchar(30),
	 publisher	varchar(30),
	 isbn		numeric(20,0),
	 pages		numeric(5,0),
	 year		numeric(5,0),
	 price		numeric(5,0),
	 stock		numeric(3,0),
	 primary key (b_id)
	);
	
	
create table seller
	(s_id 		varchar(8),
	 b_id		varchar(8),
	 f_name		varchar(15),
	 l_name		varchar(15),
	 email		varchar(30),
	 phone_no	numeric(10,0),
	 password	varchar(20),
	 primary key (s_id),
	 foreign key (b_id) references book
	);


create table courier
	(cour_id 		varchar(8),
	 cour_name		varchar(15),
	 email			varchar(15),
	 phone_no		numeric(10,0),
	 price			numeric(5,0),
	 delivery_day		numeric(2,0),
	 primary key (cour_id)
	);

create table genre
	(g_id 			varchar(8),
	 genre_name		varchar(15),
	 primary key (g_id)
	);
	
create table orders
	(o_id 		varchar(8),
	 u_id 		varchar(8),
	 b_id		varchar(8),
	 bill_id	varchar(8),
	 day		numeric(5,0),
	 month		numeric(5,0),
	 year		numeric(5,0),
	 status			varchar(15),
	 cour_id  		varchar(5),
	 bask_id		varchar(5),
	 primary key (o_id, u_id),
	 foreign key (u_id) references users on delete cascade,
	 foreign key (b_id) references book,
	 foreign key (bill_id) references billing
	);


	
create table address
	(a_id 		varchar(8),
	 u_id		varchar(8),
	 street		varchar(20),
	 country	varchar(10),
	 city		varchar(10),
	 province	varchar(10),
	 zip_code	varchar(20),
	 primary key (a_id, u_id),
	 foreign key (u_id) references users on delete cascade
	);


create table basket
	(u_id		varchar(8),
	 b_id		varchar(8),
	 primary key (u_id, b_id),
	 foreign key (u_id) references users on delete cascade,
	 foreign key (b_id) references book
		
	);

